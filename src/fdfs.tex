\documentclass[reqno,heading=true,fontset=macnew]{ctexbook}

\usepackage[b5paper] {geometry}


\usepackage{amssymb}
\usepackage{latexsym}



% algorithm
\usepackage{algpseudocode}
\usepackage[section]{algorithm}
\usepackage{algorithmicx}
\usepackage[colorlinks,linkcolor=red,anchorcolor=blue,citecolor=green]{hyperref}
\usepackage{tikz}
\usepackage{multirow}
\usepackage{float}

% math theorem, lemma, proof
\usepackage{amsthm}
%\theoremstyle{definition}
%\newtheorem{definition}{Definition}
%\newtheorem{theorem}{Theorem}

\usepackage{thmtools}
\declaretheorem{theorem}
\declaretheorem{definition}
\declaretheorem{example}
\declaretheorem{axiom}



% for mathematical integratoin
\usepackage{commath}


% for drawing beautiful math commutative diagram
% note:
%   it treat nodes as a matrix and use "&" to separate row and "\\" for line.
%   "'" change the label from above arrow to below arrow.
%   "l", "r" and "d" means move among matrix nodes.
\usepackage{tikz-cd}

% margin note
\usepackage{marginnote}


% create index
\usepackage{mathtools}
\usepackage{makeidx}
\makeindex


\usepackage{listings}



%漢字自動注音
\usepackage{xpinyin}




% set font



%! TEX program = xelatex
\usepackage{fontspec}
%\setmainfont{PingFang SC}
%\setsansfont{Hiragino Sans GB}
%\setmonofont[Scale=0.9]{PingFang SC}
\usepackage{xeCJK}
%\setCJKmainfont{PingFang SC}
\setCJKmainfont{STKaiti}
\setCJKsansfont{PingFang SC}
\setCJKmonofont{PingFang SC}



% no space in itemize
\usepackage{enumitem}
\setenumerate{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=2pt}
\setitemize{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=2pt}
\setdescription{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=2pt}


% set line space
\usepackage{setspace}



% set page size
\usepackage{geometry}
%\geometry{a4paper}
\geometry{a4paper,top=2cm,bottom=2cm,left=2.5cm,right=2cm}


% set programming code highlight
% \usepackage[chapter]{minted}


% setup bibtex
\usepackage{cite}


\usepackage{epigraph}


\newcommand\cindex[1]{\underline{#1}\index{#1}}
\newcommand{\fullref}[1]{{\ref{#1} \nameref{#1}}} % One single link


% set toc and section level
\setcounter{secnumdepth}{7}
\setcounter{tocdepth}{7}



% start of the document  
\begin{document}

\title{分布式金融系统基础}
\author{任杰}
\date{\today}

\maketitle

\begin{figure}[H]
\begin{center}
    \includegraphics{images/qrcode}
\end{center}
\end{figure}

\tableofcontents







%\setcounter{page}{1}



\input{prelude/include}
\input{intro/include}
\input{principles/include}
\input{naive.implementation/include}
\input{domain.object/include}
\input{event.sourcing/include}
\input{single.point.of.data/include}
\input{single.point.of.service/include}
\input{consensus/include}
\input{partition/include}
\input{cache/include}
\input{database/include}
\input{exact.once/include}
\input{data.processing/include}
\input{chaos.engineering/include}
\input{epilogue/include}









\bibliography{../../bibtex/library}{}
\bibliographystyle{alpha}


\printindex

\end{document}
